<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Thayssa ‚Äî Nosso √Ålbum</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#070510;
      --txt:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.72);
      --stroke:rgba(255,255,255,.12);
      --pink:#ff4fa3;
      --pink2:#ff87c7;
      --shadow: 0 18px 70px rgba(0,0,0,.55);
      --r: 22px;
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      color:var(--txt);
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:
        radial-gradient(1100px 700px at 10% 0%, rgba(255,79,163,.12), transparent 60%),
        radial-gradient(900px 700px at 90% 15%, rgba(255,135,199,.08), transparent 55%),
        linear-gradient(180deg, #04030a, #070515 55%, #04030a);
      overflow-x:hidden;
    }

    .wrap{
      max-width: 860px;
      margin: 0 auto;
      padding: 34px 16px 74px;
    }

    header{
      padding: 10px 2px 26px;
      border-bottom: 1px solid rgba(255,255,255,.10);
      margin-bottom: 18px;
    }

    .kicker{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
    }

    .label{
      display:inline-block;
      font-size: 12.5px;
      color: var(--muted);
      letter-spacing:.18em;
      text-transform: uppercase;
    }

    .counter{
      font-size: 12.5px;
      color: rgba(255,255,255,.78);
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      padding: 8px 12px;
      border-radius: 999px;
      white-space:nowrap;
    }

    h1{
      margin: 12px 0 0;
      font-family: "Playfair Display", serif;
      font-weight: 600;
      font-size: 36px;
      letter-spacing:.25px;
      line-height:1.08;
    }

    .pink{
      background: linear-gradient(135deg,var(--pink),var(--pink2));
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
    }

    /* ===== CARROSSEL HORIZONTAL ===== */
    .carouselWrap{
      margin-top: 18px;
      border-radius: var(--r);
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    .carouselHeader{
      padding: 14px 14px 10px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      border-bottom: 1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.16);
    }

    .carouselTitle{
      margin:0;
      font-family:"Playfair Display", serif;
      font-size: 16px;
      font-weight: 600;
      letter-spacing:.18px;
    }

    .hint{
      font-size: 12px;
      color: rgba(255,255,255,.62);
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      padding: 7px 10px;
      border-radius: 999px;
      white-space:nowrap;
    }

    .carousel{
      display:flex;
      gap: 14px;
      padding: 14px;
      overflow-x:auto;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
    }
    .carousel::-webkit-scrollbar{ display:none; }

    .slide{
      flex: 0 0 82%;
      max-width: 520px;
      scroll-snap-align: start;
      border-radius: calc(var(--r) - 4px);
      overflow:hidden;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      box-shadow: 0 16px 55px rgba(0,0,0,.45);
    }
    @media (min-width: 820px){
      .slide{ flex-basis: 55%; }
    }
    @media (max-width: 420px){
      .slide{ flex-basis: 92%; }
    }

    .img{
      height: 340px;
      background: rgba(255,255,255,.05);
    }
    @media (max-width:560px){
      .img{ height: 280px; }
    }
    .img img{
      width:100%;
      height:100%;
      object-fit: cover;
      display:block;
    }

    .txt{
      padding: 14px 14px 16px;
      background: rgba(0,0,0,.18);
    }
    .title{
      margin:0;
      font-family:"Playfair Display", serif;
      font-size: 18px;
      font-weight:600;
      letter-spacing:.18px;
    }

    .dots{
      display:flex;
      gap:8px;
      justify-content:center;
      padding: 10px 14px 14px;
      background: rgba(0,0,0,.14);
      border-top: 1px solid rgba(255,255,255,.10);
    }
    .dot{
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: rgba(255,255,255,.22);
      border: 1px solid rgba(255,255,255,.14);
      transition: transform .2s ease, background .2s ease;
    }
    .dot.active{
      background: linear-gradient(135deg,var(--pink),var(--pink2));
      transform: scale(1.25);
      border-color: rgba(255,255,255,.22);
    }

    /* ===== (5) MENSAGENS ESCONDIDAS ===== */
    .secrets{
      margin-top: 18px;
      border-radius: var(--r);
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .secretsTop{
      padding: 14px 14px 12px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      border-bottom: 1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.16);
    }
    .secretsTitle{
      margin:0;
      font-family:"Playfair Display", serif;
      font-size: 16px;
      font-weight: 600;
      letter-spacing:.18px;
    }
    .secretsHint{
      font-size: 12px;
      color: rgba(255,255,255,.62);
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      padding: 7px 10px;
      border-radius: 999px;
      white-space:nowrap;
    }
    .secretsGrid{
      padding: 14px;
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
    }
    @media (max-width: 720px){
      .secretsGrid{ grid-template-columns: 1fr; }
    }
    .secret{
      text-align:left;
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.12);
      padding: 14px 14px;
      cursor:pointer;
      color: rgba(255,255,255,.88);
      transition: transform .15s ease, background .15s ease, border-color .15s ease;
    }
    .secret:hover{
      background: rgba(255,255,255,.06);
      border-color: rgba(255,79,163,.22);
    }
    .secret:active{ transform: scale(.99); }
    .secretQ{
      display:block;
      font-size: 12px;
      letter-spacing:.18em;
      text-transform: uppercase;
      color: rgba(255,255,255,.62);
      margin-bottom: 8px;
    }
    .secretA{
      display:block;
      font-size: 13.5px;
      line-height: 1.65;
      min-height: 3.2em;
    }
    .secret.revealed .secretQ{
      color: rgba(255,255,255,.52);
    }
    .secret.revealed .secretA{
      background: linear-gradient(135deg,var(--pink),var(--pink2));
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      font-weight: 600;
    }

    /* ===== MINI PRESENTE (2) ===== */
    .gift{
      margin-top: 18px;
      text-align:center;
    }

    #giftBtn{
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.9);
      padding: 12px 16px;
      border-radius: 999px;
      font-size: 14px;
      cursor:pointer;
    }
    #giftBtn:active{ transform: scale(.98); }

    #giftBox{
      margin-top: 12px;
      font-size: 14px;
      line-height: 1.6;
      background: linear-gradient(135deg,var(--pink),var(--pink2));
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      font-weight:600;
    }

    /* ===== CARTA DIGITANDO (COME√áA AO APARECER) ===== */
    .letter{
      margin-top: 18px;
      border-radius: var(--r);
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    .letterTop{
      padding: 16px 16px 14px;
      display:flex;
      gap:14px;
      align-items:flex-start;
      justify-content:space-between;
      border-bottom: 1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.16);
      flex-wrap:wrap;
    }

    .letterLabel{
      display:inline-block;
      font-size: 12px;
      color: rgba(255,255,255,.68);
      letter-spacing:.18em;
      text-transform: uppercase;
      margin-bottom: 6px;
    }

    .letterTitle{
      margin:0;
      font-family:"Playfair Display", serif;
      font-size: 20px;
      font-weight: 600;
      letter-spacing:.18px;
    }

    .letterSub{
      margin:6px 0 0;
      color: rgba(255,255,255,.72);
      font-size: 13.5px;
      line-height: 1.6;
      max-width: 62ch;
    }

    .letterBtns{
      display:flex;
      gap:10px;
      align-items:center;
    }

    .btn{
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.86);
      padding: 10px 12px;
      border-radius: 999px;
      font-size: 12.5px;
      cursor:pointer;
      transition: transform .15s ease, background .15s ease, border-color .15s ease, opacity .15s ease;
    }
    .btn:active{ transform: scale(.98); }
    .btn:hover{ background: rgba(255,255,255,.09); }

    .btn.ghost{
      background: transparent;
      color: rgba(255,255,255,.72);
    }

    .btn:disabled{
      opacity:.55;
      cursor:not-allowed;
    }

    .paper{
      padding: 16px;
      background: rgba(0,0,0,.12);
    }

    .type{
      white-space: pre-wrap;
      font-size: 14px;
      line-height: 1.85;
      color: rgba(255,255,255,.88);
    }

    .caret{
      display:inline-block;
      width: 9px;
      height: 16px;
      margin-left: 2px;
      vertical-align: -3px;
      background: linear-gradient(135deg,var(--pink),var(--pink2));
      border-radius: 2px;
      animation: blink .9s steps(1,end) infinite;
    }

    @keyframes blink{
      50%{ opacity: 0; }
    }

    .readyNote{
      margin-top: 10px;
      font-size: 12px;
      color: rgba(255,255,255,.60);
    }

    /* ===== BOT√ÉO DE M√öSICA ===== */
    #musicBtn{
      position: fixed;
      bottom: 18px;
      right: 18px;
      z-index: 999;
      border: none;
      padding: 12px 14px;
      border-radius: 999px;
      font-size: 13px;
      color: white;
      background: linear-gradient(135deg,var(--pink),var(--pink2));
      box-shadow: 0 10px 30px rgba(0,0,0,.4);
      display: none;
    }
    #musicBtn:active{ transform: scale(.98); }

    /* ===== (6) BOT√ÉO MODO NOITE ===== */
    #nightBtn{
      position: fixed;
      bottom: 18px;
      left: 18px;
      z-index: 999;
      border: none;
      padding: 12px 14px;
      border-radius: 999px;
      font-size: 13px;
      color: white;
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.14);
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
      backdrop-filter: blur(8px);
    }
    #nightBtn:active{ transform: scale(.98); }

    /* ===== (6) MODO NOITE ROM√ÇNTICO ===== */
    body.night{
      background:
        radial-gradient(1100px 700px at 10% 0%, rgba(255,79,163,.18), transparent 62%),
        radial-gradient(900px 700px at 90% 15%, rgba(255,135,199,.12), transparent 58%),
        linear-gradient(180deg, #02010a, #050316 55%, #02010a);
    }
    body.night .carouselWrap,
    body.night .letter,
    body.night .secrets{
      border-color: rgba(255,255,255,.14);
      background: rgba(255,255,255,.045);
    }
    body.night .hint,
    body.night .counter{
      background: rgba(255,255,255,.06);
    }

    footer{
      margin-top: 26px;
      padding-top: 22px;
      border-top: 1px solid rgba(255,255,255,.10);
      text-align:center;
    }
    .love{
      margin: 0;
      font-family:"Playfair Display", serif;
      font-size: 34px;
      letter-spacing:.25px;
      background: linear-gradient(135deg,var(--pink),var(--pink2));
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
    }
    .sign{
      margin-top: 8px;
      color: rgba(255,255,255,.55);
      font-size: 12px;
    }
    .tiny{
      margin-top: 10px;
      font-size: 12px;
      color: rgba(255,255,255,.48);
      letter-spacing:.02em;
    }

    /* ===== TELA DE ENTRADA (ANIVERS√ÅRIO) ===== */
    .intro{
      position: fixed;
      inset: 0;
      z-index: 99999;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 18px;
      background:
        radial-gradient(900px 600px at 10% 10%, rgba(255,79,163,.20), transparent 60%),
        radial-gradient(900px 650px at 90% 20%, rgba(255,135,199,.12), transparent 55%),
        rgba(0,0,0,.78);
      backdrop-filter: blur(10px);
    }

    .introCard{
      width: min(560px, 92vw);
      border-radius: var(--r);
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(10,8,16,.58);
      box-shadow: var(--shadow);
      padding: 18px 16px 16px;
      text-align: center;
      position: relative;
      overflow:hidden;
    }

    .introTag{
      display:inline-block;
      font-size: 12px;
      letter-spacing:.18em;
      text-transform: uppercase;
      color: rgba(255,255,255,.72);
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      padding: 7px 10px;
      border-radius: 999px;
    }

    .introTitle{
      margin: 14px 0 8px;
      font-family:"Playfair Display", serif;
      font-size: 28px;
      line-height: 1.1;
      letter-spacing:.2px;
    }

    .introPink{
      background: linear-gradient(135deg,var(--pink),var(--pink2));
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      font-weight: 700;
    }

    .introBtns{
      display:flex;
      gap:10px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top: 10px;
    }

    .introBtn{
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.90);
      padding: 11px 14px;
      border-radius: 999px;
      font-size: 12.8px;
      cursor:pointer;
      transition: transform .15s ease, background .15s ease, border-color .15s ease;
    }
    .introBtn:active{ transform: scale(.98); }
    .introBtn:hover{
      background: rgba(255,255,255,.10);
      border-color: rgba(255,255,255,.18);
    }
    .introBtn.primary{
      border-color: rgba(255,79,163,.35);
      background: linear-gradient(135deg, rgba(255,79,163,.22), rgba(255,255,255,.06));
    }

    #introCanvas{
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      pointer-events:none;
      opacity: .9;
    }
  </style>
</head>

<body>
  <!-- TELA DE ENTRADA (ANIVERS√ÅRIO) -->
  <div class="intro" id="intro" role="dialog" aria-modal="true" aria-label="Tela de entrada">
    <div class="introCard">
      <div class="introTag">‚ú® hoje √© especial</div>

      <h2 class="introTitle">
        Feliz <span class="introPink">2 meses</span> meu amor
      </h2>

      <div class="introBtns">
        <button class="introBtn primary" id="introEnter">Entrar no nosso presente</button>
      </div>
    </div>

    <canvas id="introCanvas" aria-hidden="true"></canvas>
  </div>

  <div class="wrap">

    <header>
      <div class="kicker">
        <div class="label">presente para</div>
        <div class="counter" id="counter">carregando‚Ä¶</div>
      </div>

      <h1><span class="pink">Thayssa</span> <span class="pink">Grieger</span></h1>
    </header>

    <!-- CARROSSEL -->
    <section class="carouselWrap" aria-label="Galeria de momentos">
      <div class="carouselHeader">
        <h2 class="carouselTitle">Momentos</h2>
        <div class="hint">deslize pro lado ‚Üí</div>
      </div>

      <div class="carousel" id="carousel">
        <article class="slide">
          <div class="img"><img src="foto1.jpg" alt="Primeira foto juntos"></div>
          <div class="txt">
            <h3 class="title">Primeira foto juntos</h3>
          </div>
        </article>

        <article class="slide">
          <div class="img"><img src="foto2.jpg" alt="Alian√ßas"></div>
          <div class="txt">
            <h3 class="title">Alian√ßas</h3>
          </div>
        </article>

        <article class="slide">
          <div class="img"><img src="foto3.jpg" alt="Primeiro encontro"></div>
          <div class="txt">
            <h3 class="title">Primeiro encontro</h3>
          </div>
        </article>

        <article class="slide">
          <div class="img"><img src="foto4.jpg" alt="Dia da massinha"></div>
          <div class="txt">
            <h3 class="title">Dia da massinha</h3>
          </div>
        </article>

        <article class="slide">
          <div class="img"><img src="foto5.jpg" alt="Dia do bolo"></div>
          <div class="txt">
            <h3 class="title">Dia do bolo</h3>
          </div>
        </article>

        <article class="slide">
          <div class="img"><img src="foto6.jpg" alt="Caminho do vinho"></div>
          <div class="txt">
            <h3 class="title">Caminho do vinho</h3>
          </div>
        </article>
      </div>

      <div class="dots" id="dots" aria-hidden="true">
        <span class="dot active"></span>
        <span class="dot"></span>
        <span class="dot"></span>
        <span class="dot"></span>
        <span class="dot"></span>
        <span class="dot"></span>
      </div>
    </section>

    <!-- (5) MENSAGENS ESCONDIDAS -->
    <section class="secrets" aria-label="Mensagens escondidas">
      <div class="secretsTop">
        <h2 class="secretsTitle">Segredinhos</h2>
        <div class="secretsHint">toque para revelar ‚ú®</div>
      </div>

      <div class="secretsGrid">
        <button class="secret" type="button" data-msg="Voc√™ n√£o √© s√≥ meu amor‚Ä¶ voc√™ √© minha paz.">
          <span class="secretQ">Toque aqui</span>
          <span class="secretA"></span>
        </button>

        <button class="secret" type="button" data-msg="Se eu pudesse voltar no tempo, eu te escolheria mais cedo.">
          <span class="secretQ">Toque aqui</span>
          <span class="secretA"></span>
        </button>

        <button class="secret" type="button" data-msg="Feliz 2 meses, minha princesa. Isso √© s√≥ o come√ßo. üíó">
          <span class="secretQ">Toque aqui</span>
          <span class="secretA"></span>
        </button>
      </div>
    </section>

    <!-- (2) MINI PRESENTE -->
    <section class="gift" aria-label="Mini presente">
      <button id="giftBtn">üéÅ abrir</button>
      <div id="giftBox" hidden>Vale um abra√ßo apertado + beijo demorado üíó</div>
    </section>

    <!-- CARTA DIGITANDO -->
    <section class="letter" id="letter">
      <div class="letterTop">
        <div>
          <div class="letterLabel">carta</div>
          <h2 class="letterTitle pink">Pra minha princesa</h2>
          <p class="letterSub">Eu escrevi isso pensando em voc√™, com calma‚Ä¶ do meu jeito.</p>
          <div class="readyNote" id="readyNote">Des√ßa at√© aqui‚Ä¶ quando voc√™ chegar, eu come√ßo a escrever. ‚ú®</div>
        </div>

        <div class="letterBtns">
          <button class="btn" id="btnToggle" disabled>Pausar</button>
          <button class="btn ghost" id="btnRestart" disabled>Recome√ßar</button>
        </div>
      </div>

      <div class="paper">
        <div class="type" id="type"></div>
        <span class="caret" id="caret" aria-hidden="true"></span>
      </div>
    </section>

    <footer>
      <p class="love">Voc√™ √© meu lar</p>
      <div class="sign">‚Äî Thiago</div>
      <div class="tiny" id="madeAt"></div>
    </footer>

  </div>

  <!-- M√öSICA (ifoundher.mp3 na raiz do projeto) -->
  <audio id="music" loop preload="auto">
    <source src="ifoundher.mp3" type="audio/mpeg">
  </audio>

  <button id="musicBtn">üîä Tocar</button>
  <button id="nightBtn" title="Modo noite">üåô Noite</button>

  <script>
    // >>> TROQUE A DATA AQUI se precisar (formato: YYYY-MM-DD)
    const DATA_INICIO = "2025-12-25";

    function diasJuntos(){
      const start = new Date(DATA_INICIO + "T00:00:00");
      const now = new Date();
      const ms = now - start;
      const days = Math.floor(ms / (1000 * 60 * 60 * 24));
      return Math.max(0, days);
    }

    function atualizar(){
      const d = diasJuntos();
      const counter = document.getElementById("counter");
      counter.textContent = `juntos h√° ${d} dia${d === 1 ? "" : "s"}`;
    }

    atualizar();
    setInterval(atualizar, 60 * 1000);

    // bolinhas seguindo o slide mais pr√≥ximo
    const carousel = document.getElementById("carousel");
    const dots = Array.from(document.querySelectorAll("#dots .dot"));

    function updateDots(){
      const slides = Array.from(carousel.querySelectorAll(".slide"));
      const left = carousel.scrollLeft;
      let best = 0;
      let bestDist = Infinity;

      slides.forEach((s, i) => {
        const dist = Math.abs(s.offsetLeft - left);
        if(dist < bestDist){
          bestDist = dist;
          best = i;
        }
      });

      dots.forEach((d, i) => d.classList.toggle("active", i === best));
    }

    carousel.addEventListener("scroll", () => {
      window.requestAnimationFrame(updateDots);
    }, { passive: true });

    // ===== (5) Mensagens escondidas =====
    document.querySelectorAll(".secret").forEach(btn => {
      btn.addEventListener("click", () => {
        const msg = btn.getAttribute("data-msg") || "";
        const a = btn.querySelector(".secretA");
        const q = btn.querySelector(".secretQ");

        if(!btn.classList.contains("revealed")){
          btn.classList.add("revealed");
          a.textContent = msg;
          q.textContent = "Segredo revelado";
        }else{
          btn.classList.remove("revealed");
          a.textContent = "";
          q.textContent = "Toque aqui";
        }
      });
    });

    // ===== (2) Mini presente üéÅ =====
    const giftBtn = document.getElementById("giftBtn");
    const giftBox = document.getElementById("giftBox");
    if(giftBtn){
      giftBtn.addEventListener("click", () => {
        giftBox.hidden = !giftBox.hidden;
        giftBtn.textContent = giftBox.hidden ? "üéÅ abrir" : "üéÅ fechado";
      });
    }

    // ===== CARTA DIGITANDO (S√ì COME√áA QUANDO APARECER) =====
    const textoCarta =
`Thayssa, desde o primeiro dia que eu vi voc√™ senti algo diferente, senti que voc√™ era diferente, e ao meus olhos voc√™ brilhava, seu sorriso, seu olhar, tudo. seu brilho era intenso que eu desejava alcan√ßar!

E foi assim que tudo come√ßou...

Meu mundo n√£o tinha cores, era algo padr√£o, preto, branco, cinza, e bege, mas quando comecei a me apaixonar por voc√™ ele foi ganhando novas cores, vermelho do amor e da paix√£o, o azul do c√©u, o verde da grama e √°rvores, o amarelo do sol, e o rosa das flores lindas que voc√™ plantou nesse lindo jardim.

Agora voc√™ estar dentro do meu cora√ß√£o, eu amo voc√™ com muita intensidade, lembro de cada momento nosso juntos, eu sempre vou te amar, todo dia meu amor cresce por voc√™, e as coisas chatas que acontece fortalece isso, por que dificuldades existe para nos fazer mais fortes, vamos construir nosso castelo tijolo por tijolo, que o que temos ningu√©m pode separar, somos aben√ßoados por Deus..`;

    const elLetter = document.getElementById("letter");
    const elType = document.getElementById("type");
    const btnToggle = document.getElementById("btnToggle");
    const btnRestart = document.getElementById("btnRestart");
    const readyNote = document.getElementById("readyNote");

    let i = 0;
    let timer = null;
    let pausado = false;
    let started = false;

    // velocidade base (ms)
    const SPEED = 18;

    function escrever(){
      if(pausado) return;

      elType.textContent = textoCarta.slice(0, i);
      i++;

      if(i <= textoCarta.length){
        const last = textoCarta.charAt(i - 1);
        let delay = SPEED;
        if(last === "." || last === "!" || last === "?") delay = 140;
        if(last === ",") delay = 55;
        if(last === "\n") delay = 40;

        timer = setTimeout(escrever, delay);
      } else {
        btnToggle.textContent = "Conclu√≠da";
        btnToggle.disabled = true;
      }
    }

    function iniciar(){
      clearTimeout(timer);
      i = 0;
      pausado = false;
      elType.textContent = "";
      btnToggle.disabled = false;
      btnRestart.disabled = false;
      btnToggle.textContent = "Pausar";
      readyNote.textContent = "üíó";
      escrever();
    }

    btnToggle.addEventListener("click", () => {
      if(btnToggle.disabled) return;
      pausado = !pausado;
      btnToggle.textContent = pausado ? "Continuar" : "Pausar";
      if(!pausado) escrever();
    });

    btnRestart.addEventListener("click", () => {
      if(!started) return;
      iniciar();
    });

    // ===== M√öSICA: come√ßa quando a carta aparece + fade-in =====
    const music = document.getElementById("music");
    const musicBtn = document.getElementById("musicBtn");
    const TARGET_VOL = 0.85;

    let musicWanted = false;
    let fading = null;

    function fadeIn(){
      clearInterval(fading);
      music.volume = 0;
      const steps = 22;
      let c = 0;
      fading = setInterval(() => {
        c++;
        music.volume = Math.min(TARGET_VOL, (TARGET_VOL * c) / steps);
        if(c >= steps) clearInterval(fading);
      }, 80);
    }

    async function tryPlayMusic(){
      try{
        await music.play();
        musicBtn.textContent = "‚è∏ Pausar";
        fadeIn();
        return true;
      }catch(e){
        return false;
      }
    }

    function requestMusicStart(){
      musicWanted = true;
      musicBtn.style.display = "block";

      tryPlayMusic().then(ok => {
        if(ok) return;

        const unlock = async () => {
          if(!musicWanted) return;
          const ok2 = await tryPlayMusic();
          if(ok2){
            document.removeEventListener("click", unlock);
            document.removeEventListener("touchstart", unlock);
          }
        };
        document.addEventListener("click", unlock);
        document.addEventListener("touchstart", unlock, { passive: true });
      });
    }

    musicBtn.addEventListener("click", async () => {
      musicBtn.style.display = "block";
      if(music.paused){
        musicWanted = true;
        const ok = await tryPlayMusic();
        if(!ok){
          musicBtn.textContent = "üîä Tocar";
        }
      }else{
        music.pause();
        musicBtn.textContent = "üîä Tocar";
      }
    });

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if(entry.isIntersecting && !started){
          started = true;
          iniciar();
          requestMusicStart();
          observer.disconnect();
        }
      });
    }, { threshold: 0.35 });

    observer.observe(elLetter);

    // ===== (6) Modo noite rom√¢ntico =====
    const nightBtn = document.getElementById("nightBtn");
    if(nightBtn){
      const saved = localStorage.getItem("nightMode");
      if(saved === "1") document.body.classList.add("night");

      nightBtn.addEventListener("click", () => {
        const on = document.body.classList.toggle("night");
        localStorage.setItem("nightMode", on ? "1" : "0");
        try{
          music.volume = on ? Math.min(music.volume, 0.55) : Math.min(0.85, Math.max(music.volume, 0.75));
        }catch(e){}
      });
    }

    // ===== Detalhe humano (10) ‚Äî hor√°rio real =====
    const madeAt = document.getElementById("madeAt");
    if(madeAt){
      const now = new Date();
      const hh = String(now.getHours()).padStart(2,"0");
      const mm = String(now.getMinutes()).padStart(2,"0");
      madeAt.textContent = `feito √†s ${hh}:${mm}, pensando em Thayssa üß∏`;
    }

    // ===== TELA DE ENTRADA (ANIVERS√ÅRIO) =====
    const intro = document.getElementById("intro");
    const introEnter = document.getElementById("introEnter");

    function closeIntro(){
      if(!intro) return;
      intro.style.display = "none";
      document.body.style.overflow = "";
      window.scrollTo(0, 0);
    }

    if(intro){
      document.body.style.overflow = "hidden";
    }

    if(introEnter){
      introEnter.addEventListener("click", () => {
        closeIntro();
        // pequeno ‚Äúunlock‚Äù de √°udio (ajuda em alguns celulares)
        try{ music.play().then(()=>music.pause()).catch(()=>{}); }catch(e){}
      });
    }

    // Brilhinhos leves (s√≥ na intro)
    const canvas = document.getElementById("introCanvas");
    if(canvas){
      const ctx = canvas.getContext("2d");
      const dpr = Math.min(2, window.devicePixelRatio || 1);
      let w, h, stars;

      function resize(){
        w = canvas.clientWidth;
        h = canvas.clientHeight;
        canvas.width = Math.floor(w * dpr);
        canvas.height = Math.floor(h * dpr);
        ctx.setTransform(dpr,0,0,dpr,0,0);

        stars = Array.from({length: 40}, () => ({
          x: Math.random()*w,
          y: Math.random()*h,
          r: 0.8 + Math.random()*1.6,
          a: 0.25 + Math.random()*0.45,
          s: 0.15 + Math.random()*0.45
        }));
      }

      function tick(){
        if(!intro || intro.style.display === "none") return;
        ctx.clearRect(0,0,w,h);

        for(const p of stars){
          p.y -= p.s;
          if(p.y < -10){ p.y = h + 10; p.x = Math.random()*w; }
          ctx.beginPath();
          ctx.globalAlpha = p.a;
          ctx.fillStyle = "white";
          ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
          ctx.fill();
        }
        ctx.globalAlpha = 1;

        requestAnimationFrame(tick);
      }

      window.addEventListener("resize", resize);
      resize();
      tick();
    }
  </script>
</body>
</html>
